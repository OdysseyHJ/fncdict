新的市盈率公式，负值返回亏损，其它的返回0,2942,,IF^pCODETYPE^e^e0^P^r^n{^r^n	IF ^pHQZSZ !^e0 AND ISNULL^pHQZSZ^P !^e TRUE AND  DTSCJLR!^e0 AND ISNULL^pDTSCJLR^P !^e TRUE^P^r^n		RETURN HQZSZ/DTSCJLR^a^r^n	ELSE^r^n		RETURN 0^a^r^n}^r^nIF^pMARKETTYPE^e^e176 OR MARKETTYPE^e^e168 OR MARKETTYPE^e^e184 OR MARKETTYPE^e^e200^P^r^n{^r^n	x^edtjlr/ZGB^a^r^n}^r^nELSE^r^n{^r^n	a^eGETREPTYPE^p&JLR^P^a^r^n	b^eJLR/ZGB^a^r^n	x^eb*4/a^a^r^n}^r^n^r^nIF ^pISNULL^px^P!^eTRUE AND x < 0 ^P^r^n	RETURN NULL^a^r^nELSE IF ^pISNULL^px^P ^e^e TRUE^P^r^n	RETURN 0^a^r^nELSE IF ^p x ^e^e 0 ^P^r^n	RETURN 0^a^r^n	^r^nIF ^pISNULL^pNEW^P AND ISNULL^pPRE^P !^e TRUE^P^r^n	RETURN PRE/x^a^r^nELSE IF ^pISNULL^pNEW^P !^e TRUE^P^r^n	RETURN NEW/x^a^r^nELSE RETURN 0^a,-2147483648;